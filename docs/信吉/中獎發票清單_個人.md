# ä¸­çç™¼ç¥¨æ¸…å–®\_å€‹äºº

###### tags: `ä¿¡å‰`

åƒè€ƒ API é€šç”¨æ ¼å¼ : [é€£çµ](/8noUxRMeTsWpyUam5wK3dQ)

## ğŸ’  ä¾†æº URL åŠè³‡æ–™æ ¼å¼

| é …ç›®   | èªªæ˜         |
| ------ | ------------ |
| URL    | /lottery/win |
| method | post         |

## âœ… Request æ¬„ä½

| æ¬„ä½     | åç¨±     | è³‡æ–™å‹åˆ¥ | å¿…å¡« | è³‡æ–™å„²å­˜ & èªªæ˜ |
| -------- | -------- | -------- | ---- | --------------- |
| sSdate   | èµ·å§‹æ—¥å…¶ | string   | Y    | fmt. YYYY-MM-DD |
| sEdate   | æˆªæ­¢æ—¥æœŸ | string   | Y    | fmt. YYYY-MM-DD |
| sOrderNo | è¨‚å–®å–®è™Ÿ | string   | M    | é™åˆ¶ 20 ç¢¼      |
| sUid     | æœƒå“¡ç·¨è™Ÿ | string   | Y    |
| sPage    | é æ•¸     | string   | Y    |

#### Request ç¯„ä¾‹

```json
{
  "sSdate": "2023-02-10",
  "sEdate": "2023-02-13",
  "sOrderNo": "3345678",
  "sUid": "2019580"
}
```

#### Request å¾Œç«¯æµç¨‹èªªæ˜

1. æŸ¥è©¢å€‹äººä¸­çç™¼ç¥¨(é ERP)
2. å°‡æŸ¥è©¢çµæœè½‰å›çµ¦å‰ç«¯å‘ˆç¾
3. ç¢ºèª token uid æ˜¯å¦ç›¸åŒæ–¼ sUid ä¸ç›¸åŒä¸å…è¨±æŸ¥è©¢

#### æŸ¥è©¢ DB

- st_win_lottery
- åƒ…æŸ¥è©¢ä¸­ç(å€‹äºº)
- éœ€è¦åˆ†é 
- ä¸€æ¬¡æ€§å‘ˆç¾ 20 ç­†
- éœ€è¦å†æœ€å¤–å±¤å‚³å‡ºç¸½æ•¸é‡

## Response æ¬„ä½

| æ¬„ä½          | åç¨±     | è³‡æ–™å‹åˆ¥ | å¿…å¡« | ä¾†æº         | è³‡æ–™å„²å­˜ & èªªæ˜ |
| ------------- | -------- | -------- | ---- | ------------ | --------------- |
| sOrderNo      | è¨‚å–®å–®è™Ÿ | string   | Y    | ERP          |
| sTransDate    | äº¤æ˜“æ—¥æœŸ | string   | Y    | ERP          |
| sPayment      | ä»˜æ¬¾æ–¹å¼ | string   | Y    | ERP          |
| sInv          | ç™¼ç¥¨è™Ÿç¢¼ | string   | Y    | ERP          |
| sPrizeInfo    | ä¸­çè³‡è¨Š | string   | Y    | å¹³å°è‡ªè¡Œå°æ‡‰ |

#### Response ç¯„ä¾‹

```json
{
    "status": 200,
    "message": "success",
    "success": true,
    "total": 2,
    "data": [
        {
            "sOrderNo": "3375678",
            "sTransDate": "2023-04-22",
            "sPayment": "ç¾é‡‘ä»˜æ¬¾",
            "sInv": "BF44102237",
            "sPrizeInfo": "ä¸­ç(å…­ç)"
        },
        {
            "sOrderNo": "2022001",
            "sTransDate": "2023-04-01",
            "sPayment": "ç¾é‡‘ä»˜æ¬¾",
            "sInv": "AA12345678",
            "sPrizeInfo": "æœªä¸­ç"
        }
    ]
}
```
